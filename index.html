<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TJ Mobiles - Premium Mobile Phones in Kenya</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --text: #333;
            --bg: #f8f9fa;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--secondary), var(--dark));
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--primary);
        }
        
        .header-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-call {
            background-color: var(--success);
            color: white;
        }
        
        .btn-call:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        .cart-btn {
            position: relative;
            background-color: transparent;
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 8px 12px;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        /* Admin Panel */
        .admin-panel {
            background-color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            display: none;
        }
        
        .auth-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        /* Filters */
        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .filter-group {
            flex: 1;
            min-width: 150px;
        }
        
        /* Products Grid */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }
        
        .product-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .product-image {
            height: 200px;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        
        .product-image img {
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
            transition: transform 0.3s;
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.05);
        }
        
        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--accent);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .product-header {
            padding: 15px;
            background-color: var(--light);
            border-bottom: 1px solid #ddd;
        }
        
        .product-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .product-brand {
            color: var(--dark);
            font-weight: 500;
        }
        
        .product-details {
            padding: 15px;
            flex-grow: 1;
        }
        
        .product-spec {
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }
        
        .product-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .product-actions {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .btn-add-to-cart {
            background-color: var(--primary);
            color: white;
            width: 100%;
            justify-content: center;
        }
        
        .btn-add-to-cart:hover {
            background-color: #2980b9;
        }
        
        .btn-quick-view {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            width: 100%;
            justify-content: center;
        }
        
        .btn-quick-view:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .admin-actions {
            padding: 10px 15px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
        }
        
        /* Cart Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 20px;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        .cart-items {
            margin: 20px 0;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-image {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        .cart-item-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .cart-item-details {
            flex-grow: 1;
        }
        
        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            background-color: var(--light);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 20px 0;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }
        
        .checkout-btn {
            background-color: var(--success);
            color: white;
            width: 100%;
            justify-content: center;
            padding: 12px;
            font-size: 1.1rem;
        }
        
        .checkout-btn:hover {
            background-color: #27ae60;
        }
        
        /* Quick View Modal */
        .quick-view-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .quick-view-image {
            flex: 1;
            min-width: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
        }
        
        .quick-view-image img {
            max-width: 100%;
            max-height: 400px;
            object-fit: contain;
        }
        
        .quick-view-details {
            flex: 1;
            min-width: 300px;
        }
        
        .quick-view-details h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--secondary);
        }
        
        .quick-view-price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin: 15px 0;
        }
        
        .specs-list {
            margin: 20px 0;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .spec-label {
            font-weight: 600;
            color: var(--dark);
        }
        
        .spec-value {
            color: var(--text);
        }
        
        .product-description {
            margin: 20px 0;
            line-height: 1.6;
            color: #555;
        }
        
        /* Footer */
        footer {
            background-color: var(--secondary);
            color: white;
            padding: 40px 0 20px;
            margin-top: 60px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-section p, .footer-section a {
            color: #bbb;
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: white;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .social-links a:hover {
            background-color: var(--primary);
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #bbb;
            font-size: 0.9rem;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 4px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .notification.success {
            background-color: var(--success);
        }
        
        .notification.error {
            background-color: var(--danger);
        }
        
        .notification.show {
            opacity: 1;
        }
        
        .auth-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .auth-status.authenticated {
            color: var(--success);
        }
        
        .auth-status.not-authenticated {
            color: var(--danger);
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .filters {
                flex-direction: column;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .quick-view-content {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="notification" id="notification"></div>
    
    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <span class="close-modal" id="closeCart">&times;</span>
            <h2><i class="fas fa-shopping-cart"></i> Your Shopping Cart</h2>
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be added here -->
            </div>
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">KSH 0</span>
            </div>
            <button class="btn checkout-btn" id="checkoutBtn">
                <i class="fas fa-credit-card"></i> Proceed to Checkout
            </button>
        </div>
    </div>
    
    <!-- Quick View Modal -->
    <div class="modal" id="quickViewModal">
        <div class="modal-content">
            <span class="close-modal" id="closeQuickView">&times;</span>
            <div class="quick-view-content" id="quickViewContent">
                <!-- Quick view content will be added here -->
            </div>
        </div>
    </div>
    
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-mobile-alt logo-icon"></i>
                    <h1>TJ Mobiles</h1>
                </div>
                <div class="header-actions">
                    <button class="btn btn-call" id="callInfoBtn">
                        <i class="fas fa-phone-alt"></i> Call: 0706667129
                    </button>
                    <button class="btn cart-btn" id="cartBtn">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </button>
                    <button class="btn btn-primary" id="adminToggle">
                        <i class="fas fa-user-cog"></i> Admin
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <div class="container">
            <h2>Premium Mobile Phones at Unbeatable Prices</h2>
            <p>Discover the latest smartphones from top brands with exclusive deals and fast delivery across Kenya</p>
            <button class="btn btn-primary" id="shopNowBtn">
                <i class="fas fa-shopping-bag"></i> Shop Now
            </button>
        </div>
    </section>
    
    <div class="container">
        <div class="admin-panel" id="adminPanel">
            <h2><i class="fas fa-cogs"></i> Admin Panel</h2>
            
            <div class="auth-section">
                <h3>Authentication</h3>
                <div class="form-group">
                    <label for="adminPasscode">Enter Admin Passcode</label>
                    <input type="password" id="adminPasscode" placeholder="Enter passcode to enable editing">
                </div>
                <button class="btn btn-primary" id="authButton">
                    <i class="fas fa-key"></i> Authenticate
                </button>
                <div class="auth-status not-authenticated" id="authStatus">
                    <i class="fas fa-times-circle"></i> Not authenticated
                </div>
            </div>
            
            <div id="adminControls" class="hidden">
                <h3>Add New Product</h3>
                <form id="productForm">
                    <div class="form-group">
                        <label for="productName">Product Name</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label for="productBrand">Brand</label>
                        <select id="productBrand" required>
                            <option value="">Select Brand</option>
                            <option value="Samsung">Samsung</option>
                            <option value="Apple">Apple</option>
                            <option value="Google">Google</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="productStorage">Storage</label>
                        <input type="text" id="productStorage" required>
                    </div>
                    <div class="form-group">
                        <label for="productPrice">Price (in KSH)</label>
                        <input type="number" id="productPrice" required>
                    </div>
                    <div class="form-group">
                        <label for="productImage">Image URL</label>
                        <input type="text" id="productImage" placeholder="Paste image URL here">
                    </div>
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-plus-circle"></i> Add Product
                    </button>
                </form>
            </div>
        </div>
        
        <div class="filters">
            <div class="filter-group">
                <label for="brandFilter">Brand</label>
                <select id="brandFilter">
                    <option value="">All Brands</option>
                    <option value="Samsung">Samsung</option>
                    <option value="Apple">Apple</option>
                    <option value="Google">Google</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="storageFilter">Storage</label>
                <select id="storageFilter">
                    <option value="">All Storage</option>
                    <option value="128">128GB</option>
                    <option value="256">256GB</option>
                    <option value="512">512GB</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="priceFilter">Price Range</label>
                <select id="priceFilter">
                    <option value="">All Prices</option>
                    <option value="0-30000">Under KSH 30,000</option>
                    <option value="30000-50000">KSH 30,000 - 50,000</option>
                    <option value="50000-70000">KSH 50,000 - 70,000</option>
                    <option value="70000-100000">KSH 70,000+</option>
                </select>
            </div>
        </div>
        
        <div class="products-grid" id="productsGrid">
            <!-- Products will be dynamically added here -->
        </div>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>TJ Mobiles</h3>
                    <p>Your trusted partner for premium mobile phones in Kenya. We offer the latest smartphones at competitive prices with excellent customer service.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <a href="#">Home</a>
                    <a href="#">Products</a>
                    <a href="#">About Us</a>
                    <a href="#">Contact</a>
                </div>
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</p>
                    <p><i class="fas fa-phone"></i> 0706667129</p>
                    <p><i class="fas fa-envelope"></i> info@tjmobiles.co.ke</p>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 TJ Mobiles. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        // Admin passcode
        const ADMIN_PASSCODE = "12340";
        
        // Contact number for call button
        const CONTACT_NUMBER = '0706667129';
        
        // Shopping cart
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Product details database
        const productDetails = {
            // Samsung devices
            "Galaxy A54": {
                display: "6.4-inch Super AMOLED, 120Hz",
                camera: "50MP Main + 12MP Ultra Wide + 5MP Macro",
                battery: "5000mAh",
                processor: "Exynos 1380",
                ram: "6GB/8GB",
                os: "Android 13 with One UI 5.1",
                description: "The Samsung Galaxy A54 5G offers a premium experience with its vibrant display, versatile camera system, and long-lasting battery life."
            },
            "S20 FE": {
                display: "6.5-inch Super AMOLED, 120Hz",
                camera: "12MP Main + 12MP Ultra Wide + 8MP Telephoto",
                battery: "4500mAh",
                processor: "Snapdragon 865",
                ram: "6GB/8GB",
                os: "Android 12 with One UI 4.1",
                description: "The Galaxy S20 FE brings flagship features at a more accessible price point with a versatile triple camera and smooth 120Hz display."
            },
            "S20": {
                display: "6.2-inch Dynamic AMOLED 2X, 120Hz",
                camera: "12MP Main + 64MP Telephoto + 12MP Ultra Wide",
                battery: "4000mAh",
                processor: "Exynos 990 / Snapdragon 865",
                ram: "8GB/12GB",
                os: "Android 12 with One UI 4.1",
                description: "The compact flagship with premium features including a versatile camera system and stunning 120Hz display."
            },
            "S20 Plus": {
                display: "6.7-inch Dynamic AMOLED 2X, 120Hz",
                camera: "12MP Main + 64MP Telephoto + 12MP Ultra Wide + Depth Vision",
                battery: "4500mAh",
                processor: "Exynos 990 / Snapdragon 865",
                ram: "8GB/12GB",
                os: "Android 12 with One UI 4.1",
                description: "The larger sibling of the S20 with additional camera features and a bigger battery for extended usage."
            },
            "Note 20 Ultra": {
                display: "6.9-inch Dynamic AMOLED 2X, 120Hz",
                camera: "108MP Main + 12MP Periscope Telephoto + 12MP Ultra Wide",
                battery: "4500mAh",
                processor: "Exynos 990 / Snapdragon 865+",
                ram: "12GB",
                os: "Android 12 with One UI 4.1",
                description: "The ultimate productivity phone with S Pen support, professional-grade camera, and premium design."
            },
            "Note 10": {
                display: "6.3-inch Dynamic AMOLED",
                camera: "12MP Main + 16MP Ultra Wide + 12MP Telephoto",
                battery: "3500mAh",
                processor: "Exynos 9825 / Snapdragon 855",
                ram: "8GB/12GB",
                os: "Android 12 with One UI 4.1",
                description: "Compact Note experience with S Pen functionality and premium design in a smaller form factor."
            },
            "S21": {
                display: "6.2-inch Dynamic AMOLED 2X, 120Hz",
                camera: "12MP Main + 64MP Telephoto + 12MP Ultra Wide",
                battery: "4000mAh",
                processor: "Exynos 2100 / Snapdragon 888",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Refined design with powerful performance and improved camera capabilities in a compact form factor."
            },
            "S21 Plus": {
                display: "6.7-inch Dynamic AMOLED 2X, 120Hz",
                camera: "12MP Main + 64MP Telephoto + 12MP Ultra Wide",
                battery: "4800mAh",
                processor: "Exynos 2100 / Snapdragon 888",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Larger display and battery than the S21 while maintaining the same powerful performance and camera system."
            },
            "S21 Ultra": {
                display: "6.8-inch Dynamic AMOLED 2X, 120Hz",
                camera: "108MP Main + 10MP Periscope Telephoto + 10MP Telephoto + 12MP Ultra Wide",
                battery: "5000mAh",
                processor: "Exynos 2100 / Snapdragon 888",
                ram: "12GB/16GB",
                os: "Android 13 with One UI 5.1",
                description: "The ultimate Samsung flagship with professional-grade camera system, S Pen support, and top-tier performance."
            },
            "S22": {
                display: "6.1-inch Dynamic AMOLED 2X, 120Hz",
                camera: "50MP Main + 10MP Telephoto + 12MP Ultra Wide",
                battery: "3700mAh",
                processor: "Snapdragon 8 Gen 1",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Compact flagship with improved camera system and brighter display for better outdoor visibility."
            },
            "S22 Plus": {
                display: "6.6-inch Dynamic AMOLED 2X, 120Hz",
                camera: "50MP Main + 10MP Telephoto + 12MP Ultra Wide",
                battery: "4500mAh",
                processor: "Snapdragon 8 Gen 1",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Balanced flagship with larger display and battery than S22 while maintaining the same powerful camera system."
            },
            "S22 Ultra": {
                display: "6.8-inch Dynamic AMOLED 2X, 120Hz",
                camera: "108MP Main + 10MP Periscope Telephoto + 10MP Telephoto + 12MP Ultra Wide",
                battery: "5000mAh",
                processor: "Snapdragon 8 Gen 1",
                ram: "8GB/12GB",
                os: "Android 13 with One UI 5.1",
                description: "Note-inspired design with built-in S Pen, professional camera system, and top-tier performance."
            },
            "S23": {
                display: "6.1-inch Dynamic AMOLED 2X, 120Hz",
                camera: "50MP Main + 10MP Telephoto + 12MP Ultra Wide",
                battery: "3900mAh",
                processor: "Snapdragon 8 Gen 2",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Refined compact flagship with improved battery life and more efficient performance."
            },
            "S23 Plus": {
                display: "6.6-inch Dynamic AMOLED 2X, 120Hz",
                camera: "50MP Main + 10MP Telephoto + 12MP Ultra Wide",
                battery: "4700mAh",
                processor: "Snapdragon 8 Gen 2",
                ram: "8GB",
                os: "Android 13 with One UI 5.1",
                description: "Larger variant with improved battery life and the same powerful camera system as the S23."
            },
            "S23 Ultra": {
                display: "6.8-inch Dynamic AMOLED 2X, 120Hz",
                camera: "200MP Main + 10MP Periscope Telephoto + 10MP Telephoto + 12MP Ultra Wide",
                battery: "5000mAh",
                processor: "Snapdragon 8 Gen 2",
                ram: "8GB/12GB",
                os: "Android 13 with One UI 5.1",
                description: "Ultimate Samsung flagship with groundbreaking 200MP camera, built-in S Pen, and top-tier performance."
            },
            
            // Apple devices
            "iPhone 12": {
                display: "6.1-inch Super Retina XDR OLED",
                camera: "12MP Main + 12MP Ultra Wide",
                battery: "2815mAh",
                processor: "A14 Bionic",
                ram: "4GB",
                os: "iOS 17",
                description: "The iPhone 12 features a beautiful OLED display, 5G connectivity, and the powerful A14 Bionic chip."
            },
            "iPhone 12 Pro": {
                display: "6.1-inch Super Retina XDR OLED",
                camera: "12MP Main + 12MP Telephoto + 12MP Ultra Wide + LiDAR",
                battery: "2815mAh",
                processor: "A14 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Pro camera system with LiDAR scanner, premium design with stainless steel frame, and advanced computational photography."
            },
            "iPhone 12 Pro Max": {
                display: "6.7-inch Super Retina XDR OLED",
                camera: "12MP Main + 12MP Telephoto + 12MP Ultra Wide + LiDAR",
                battery: "3687mAh",
                processor: "A14 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Largest iPhone 12 with the most advanced camera system, larger sensor for better low-light performance."
            },
            "iPhone 13": {
                display: "6.1-inch Super Retina XDR OLED",
                camera: "12MP Main + 12MP Ultra Wide",
                battery: "3240mAh",
                processor: "A15 Bionic",
                ram: "4GB",
                os: "iOS 17",
                description: "Improved battery life, advanced dual-camera system with sensor-shift stabilization, and powerful A15 Bionic chip."
            },
            "iPhone 13 Pro": {
                display: "6.1-inch Super Retina XDR OLED with ProMotion",
                camera: "12MP Main + 12MP Telephoto + 12MP Ultra Wide + LiDAR",
                battery: "3095mAh",
                processor: "A15 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "ProMotion display with 120Hz refresh rate, pro camera system with macro photography, and cinematic mode."
            },
            "iPhone 13 Pro Max": {
                display: "6.7-inch Super Retina XDR OLED with ProMotion",
                camera: "12MP Main + 12MP Telephoto + 12MP Ultra Wide + LiDAR",
                battery: "4352mAh",
                processor: "A15 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Largest iPhone 13 with the best battery life, pro camera system, and ProMotion display technology."
            },
            "iPhone 14": {
                display: "6.1-inch Super Retina XDR OLED",
                camera: "12MP Main + 12MP Ultra Wide",
                battery: "3279mAh",
                processor: "A15 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Enhanced safety features with crash detection, improved main camera, and action mode for stable video."
            },
            "iPhone 14 Pro": {
                display: "6.1-inch Super Retina XDR OLED with Always-On and ProMotion",
                camera: "48MP Main + 12MP Telephoto + 12MP Ultra Wide",
                battery: "3200mAh",
                processor: "A16 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Dynamic Island, Always-On display, 48MP main camera, and advanced pro features."
            },
            "iPhone 14 Pro Max": {
                display: "6.7-inch Super Retina XDR OLED with Always-On and ProMotion",
                camera: "48MP Main + 12MP Telephoto + 12MP Ultra Wide",
                battery: "4323mAh",
                processor: "A16 Bionic",
                ram: "6GB",
                os: "iOS 17",
                description: "Largest iPhone 14 with the best battery life, Dynamic Island, and professional 48MP camera system."
            },
            
            // Google devices
            "Pixel 6 Pro": {
                display: "6.7-inch LTPO OLED, 120Hz",
                camera: "50MP Main + 48MP Telephoto + 12MP Ultra Wide",
                battery: "5003mAh",
                processor: "Google Tensor",
                ram: "12GB",
                os: "Android 14",
                description: "Google's flagship with custom Tensor chip, advanced computational photography, and smooth 120Hz display."
            }
        };
        
        // Initial product data with Kenyan Shilling prices and image URLs
        const initialProducts = [
            { id: 1, name: "Galaxy A54", brand: "Samsung", storage: "128GB", price: 30500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/2302/gallery/ke-galaxy-a54-5g-sm-a546elbgafr-534866917" },
            { id: 2, name: "S20 FE", brand: "Samsung", storage: "128GB", price: 25500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g780fzbdafr/gallery/ke-galaxy-s20-fe-5g-sm-g780-399951-sm-g780fzbdafr-534349708" },
            { id: 3, name: "S20", brand: "Samsung", storage: "128GB", price: 29500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g980fzsdafr/gallery/ke-galaxy-s20-5g-sm-g980-399951-sm-g980fzsdafr-534349708" },
            { id: 4, name: "S20 Plus", brand: "Samsung", storage: "128GB", price: 34000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g985fzsdafr/gallery/ke-galaxy-s20-plus-5g-sm-g985-399951-sm-g985fzsdafr-534349708" },
            { id: 5, name: "Note 20 Ultra", brand: "Samsung", storage: "128GB", price: 47000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-n985fzsdafr/gallery/ke-galaxy-note20-ultra-5g-sm-n985-399951-sm-n985fzsdafr-534349708" },
            { id: 6, name: "Note 10", brand: "Samsung", storage: "128GB", price: 30000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-n970fzsdafr/gallery/ke-galaxy-note10-5g-sm-n970-399951-sm-n970fzsdafr-534349708" },
            { id: 7, name: "S21", brand: "Samsung", storage: "128GB", price: 30000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g991bzsdfrr/gallery/ke-galaxy-s21-5g-sm-g991-399951-sm-g991bzsdfrr-534349708" },
            { id: 8, name: "S21", brand: "Samsung", storage: "256GB", price: 32000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g991bzsdfrr/gallery/ke-galaxy-s21-5g-sm-g991-399951-sm-g991bzsdfrr-534349708" },
            { id: 9, name: "S21 Plus", brand: "Samsung", storage: "128GB", price: 34000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g996bzsdfrr/gallery/ke-galaxy-s21-plus-5g-sm-g996-399951-sm-g996bzsdfrr-534349708" },
            { id: 10, name: "S21 Plus", brand: "Samsung", storage: "256GB", price: 35500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g996bzsdfrr/gallery/ke-galaxy-s21-plus-5g-sm-g996-399951-sm-g996bzsdfrr-534349708" },
            { id: 11, name: "S21 Ultra", brand: "Samsung", storage: "128GB", price: 40500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g998bzsdfrr/gallery/ke-galaxy-s21-ultra-5g-sm-g998-399951-sm-g998bzsdfrr-534349708" },
            { id: 12, name: "S21 Ultra", brand: "Samsung", storage: "256GB", price: 47000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-g998bzsdfrr/gallery/ke-galaxy-s21-ultra-5g-sm-g998-399951-sm-g998bzsdfrr-534349708" },
            { id: 13, name: "S22", brand: "Samsung", storage: "128GB", price: 35000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s901ezsdafr/gallery/ke-galaxy-s22-5g-sm-s901-399951-sm-s901ezsdafr-534349708" },
            { id: 14, name: "S22", brand: "Samsung", storage: "256GB", price: 39000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s901ezsdafr/gallery/ke-galaxy-s22-5g-sm-s901-399951-sm-s901ezsdafr-534349708" },
            { id: 15, name: "S22 Plus", brand: "Samsung", storage: "128GB", price: 35000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s906ezsdafr/gallery/ke-galaxy-s22-plus-5g-sm-s906-399951-sm-s906ezsdafr-534349708" },
            { id: 16, name: "S22 Plus", brand: "Samsung", storage: "256GB", price: 38000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s906ezsdafr/gallery/ke-galaxy-s22-plus-5g-sm-s906-399951-sm-s906ezsdafr-534349708" },
            { id: 17, name: "S22 Ultra", brand: "Samsung", storage: "128GB", price: 65000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s908ezsdafr/gallery/ke-galaxy-s22-ultra-5g-sm-s908-399951-sm-s908ezsdafr-534349708" },
            { id: 18, name: "S22 Ultra", brand: "Samsung", storage: "256GB", price: 68000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s908ezsdafr/gallery/ke-galaxy-s22-ultra-5g-sm-s908-399951-sm-s908ezsdafr-534349708" },
            { id: 19, name: "S22 Ultra", brand: "Samsung", storage: "512GB", price: 62000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s908ezsdafr/gallery/ke-galaxy-s22-ultra-5g-sm-s908-399951-sm-s908ezsdafr-534349708" },
            { id: 20, name: "S23", brand: "Samsung", storage: "128GB", price: 47000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s911ezvdafr/gallery/ke-galaxy-s23-5g-sm-s911-534866917" },
            { id: 21, name: "S23", brand: "Samsung", storage: "256GB", price: 50500, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s911ezvdafr/gallery/ke-galaxy-s23-5g-sm-s911-534866917" },
            { id: 22, name: "S23 Plus", brand: "Samsung", storage: "256GB", price: 52000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s916ezvdafr/gallery/ke-galaxy-s23-plus-5g-sm-s916-534866917" },
            { id: 23, name: "S23 Ultra", brand: "Samsung", storage: "256GB", price: 73000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s918ezvdafr/gallery/ke-galaxy-s23-ultra-5g-sm-s918-534866917" },
            { id: 24, name: "S23 Ultra", brand: "Samsung", storage: "512GB", price: 78000, image: "https://images.samsung.com/is/image/samsung/p6pim/ke/sm-s918ezvdafr/gallery/ke-galaxy-s23-ultra-5g-sm-s918-534866917" },
            { id: 25, name: "Pixel 6 Pro", brand: "Google", storage: "128GB", price: 33000, image: "https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Google_Pixel_6_Pro.max-1000x1000.jpg" },
            { id: 26, name: "Pixel 6 Pro", brand: "Google", storage: "256GB", price: 38000, image: "https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Google_Pixel_6_Pro.max-1000x1000.jpg" },
            { id: 27, name: "iPhone 12", brand: "Apple", storage: "128GB", price: 45000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-12-blue-select-2020?wid=940&hei=1112&fmt=png-alpha&.v=1604343704000" },
            { id: 28, name: "iPhone 12", brand: "Apple", storage: "256GB", price: 49000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-12-blue-select-2020?wid=940&hei=1112&fmt=png-alpha&.v=1604343704000" },
            { id: 29, name: "iPhone 12 Pro", brand: "Apple", storage: "128GB", price: 48500, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-12-pro-blue-hero?wid=940&hei=1112&fmt=png-alpha&.v=1604021660000" },
            { id: 30, name: "iPhone 12 Pro", brand: "Apple", storage: "256GB", price: 51000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-12-pro-blue-hero?wid=940&hei=1112&fmt=png-alpha&.v=1604021660000" },
            { id: 31, name: "iPhone 12 Pro Max", brand: "Apple", storage: "256GB", price: 65000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-12-pro-max-gold-hero?wid=940&hei=1112&fmt=png-alpha&.v=1604021661000" },
            { id: 32, name: "iPhone 13", brand: "Apple", storage: "128GB", price: 51000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-13-pink-select-2021?wid=940&hei=1112&fmt=png-alpha&.v=1623707846000" },
            { id: 33, name: "iPhone 13", brand: "Apple", storage: "256GB", price: 53000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-13-pink-select-2021?wid=940&hei=1112&fmt=png-alpha&.v=1623707846000" },
            { id: 34, name: "iPhone 13 Pro", brand: "Apple", storage: "128GB", price: 60000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-13-pro-silver-select?wid=940&hei=1112&fmt=png-alpha&.v=1631652956000" },
            { id: 35, name: "iPhone 13 Pro", brand: "Apple", storage: "256GB", price: 65000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-13-pro-silver-select?wid=940&hei=1112&fmt=png-alpha&.v=1631652956000" },
            { id: 36, name: "iPhone 13 Pro Max", brand: "Apple", storage: "256GB", price: 80000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-13-pro-max-silver-select?wid=940&hei=1112&fmt=png-alpha&.v=1631652956000" },
            { id: 37, name: "iPhone 14", brand: "Apple", storage: "128GB", price: 57500, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-storage-select-202209?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1660689593121" },
            { id: 38, name: "iPhone 14", brand: "Apple", storage: "256GB", price: 65500, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-storage-select-202209?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1660689593121" },
            { id: 39, name: "iPhone 14 Pro", brand: "Apple", storage: "256GB", price: 80000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-pro-deep-purple-select?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1660757373882" },
            { id: 40, name: "iPhone 14 Pro Max", brand: "Apple", storage: "256GB", price: 94000, image: "https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone-14-pro-max-deep-purple-select?wid=5120&hei=2880&fmt=p-jpg&qlt=80&.v=1660757377492" }
        ];

        // Load products from localStorage or use initial data
        let products = JSON.parse(localStorage.getItem('mobileProducts')) || initialProducts;
        
        // Admin authentication state
        let isAuthenticated = false;
        
        // DOM elements
        const adminToggle = document.getElementById('adminToggle');
        const adminPanel = document.getElementById('adminPanel');
        const adminControls = document.getElementById('adminControls');
        const productForm = document.getElementById('productForm');
        const productsGrid = document.getElementById('productsGrid');
        const brandFilter = document.getElementById('brandFilter');
        const storageFilter = document.getElementById('storageFilter');
        const priceFilter = document.getElementById('priceFilter');
        const adminPasscode = document.getElementById('adminPasscode');
        const authButton = document.getElementById('authButton');
        const authStatus = document.getElementById('authStatus');
        const notification = document.getElementById('notification');
        const callInfoBtn = document.getElementById('callInfoBtn');
        const cartBtn = document.getElementById('cartBtn');
        const cartModal = document.getElementById('cartModal');
        const closeCart = document.getElementById('closeCart');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const cartCount = document.getElementById('cartCount');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const shopNowBtn = document.getElementById('shopNowBtn');
        const quickViewModal = document.getElementById('quickViewModal');
        const closeQuickView = document.getElementById('closeQuickView');
        const quickViewContent = document.getElementById('quickViewContent');
        
        // Toggle admin panel
        adminToggle.addEventListener('click', () => {
            adminPanel.style.display = adminPanel.style.display === 'block' ? 'none' : 'block';
            updateAdminActionsVisibility();
        });
        
        // Authenticate admin
        authButton.addEventListener('click', () => {
            if (adminPasscode.value === ADMIN_PASSCODE) {
                isAuthenticated = true;
                adminControls.classList.remove('hidden');
                authStatus.textContent = "Authenticated";
                authStatus.className = "auth-status authenticated";
                authStatus.innerHTML = '<i class="fas fa-check-circle"></i> Authenticated';
                showNotification("Admin access granted", "success");
            } else {
                isAuthenticated = false;
                adminControls.classList.add('hidden');
                authStatus.textContent = "Invalid passcode";
                authStatus.className = "auth-status not-authenticated";
                authStatus.innerHTML = '<i class="fas fa-times-circle"></i> Invalid passcode';
                showNotification("Invalid passcode", "error");
            }
        });
        
        // Add new product
        productForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            if (!isAuthenticated) {
                showNotification("Please authenticate first", "error");
                return;
            }
            
            const name = document.getElementById('productName').value;
            const brand = document.getElementById('productBrand').value;
            const storage = document.getElementById('productStorage').value;
            let price = parseFloat(document.getElementById('productPrice').value);
            const image = document.getElementById('productImage').value || "https://via.placeholder.com/300x300?text=No+Image";
            
            const newProduct = {
                id: Date.now(), // Simple ID generation
                name,
                brand,
                storage,
                price,
                image
            };
            
            products.push(newProduct);
            saveProducts();
            renderProducts();
            showNotification("Product added successfully", "success");
            
            // Reset form
            productForm.reset();
        });

        // Call for Info button handler
        callInfoBtn.addEventListener('click', () => {
            window.location.href = `tel:${CONTACT_NUMBER}`;
        });
        
        // Cart functionality
        cartBtn.addEventListener('click', () => {
            cartModal.style.display = 'flex';
            renderCart();
        });
        
        closeCart.addEventListener('click', () => {
            cartModal.style.display = 'none';
        });
        
        // Quick View functionality
        closeQuickView.addEventListener('click', () => {
            quickViewModal.style.display = 'none';
        });
        
        window.addEventListener('click', (e) => {
            if (e.target === cartModal) {
                cartModal.style.display = 'none';
            }
            if (e.target === quickViewModal) {
                quickViewModal.style.display = 'none';
            }
        });
        
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                showNotification("Your cart is empty", "error");
                return;
            }
            
            showNotification("Proceeding to checkout...", "success");
            // In a real application, you would redirect to a checkout page
            setTimeout(() => {
                cartModal.style.display = 'none';
            }, 2000);
        });
        
        shopNowBtn.addEventListener('click', () => {
            document.querySelector('.filters').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Save products to localStorage
        function saveProducts() {
            localStorage.setItem('mobileProducts', JSON.stringify(products));
        }
        
        // Save cart to localStorage
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }
        
        // Add to cart
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            saveCart();
            updateCartCount();
            showNotification(`${product.name} added to cart`, "success");
        }
        
        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartCount();
            renderCart();
            showNotification("Item removed from cart", "success");
        }
        
        // Update cart count
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = count;
        }
        
        // Render cart
        function renderCart() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty</p>';
                cartTotal.textContent = 'KSH 0';
                return;
            }
            
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">KSH ${formatPrice(item.price)}</div>
                    </div>
                    <div class="cart-item-actions">
                        <div class="quantity-control">
                            <button class="quantity-btn" data-id="${item.id}" data-action="decrease">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" data-id="${item.id}" data-action="increase">+</button>
                        </div>
                        <button class="btn btn-danger" data-id="${item.id}" data-action="remove">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = `KSH ${formatPrice(total)}`;
            
            // Add event listeners to cart item buttons
            document.querySelectorAll('.quantity-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.getAttribute('data-id'));
                    const action = e.target.getAttribute('data-action');
                    updateCartItemQuantity(productId, action);
                });
            });
            
            document.querySelectorAll('.btn-danger[data-action="remove"]').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('.btn-danger').getAttribute('data-id'));
                    removeFromCart(productId);
                });
            });
        }
        
        // Update cart item quantity
        function updateCartItemQuantity(productId, action) {
            const item = cart.find(item => item.id === productId);
            
            if (action === 'increase') {
                item.quantity += 1;
            } else if (action === 'decrease') {
                item.quantity -= 1;
                if (item.quantity === 0) {
                    removeFromCart(productId);
                    return;
                }
            }
            
            saveCart();
            updateCartCount();
            renderCart();
        }
        
        // Show quick view
        function showQuickView(product) {
            const details = productDetails[product.name] || {
                display: "Information not available",
                camera: "Information not available",
                battery: "Information not available",
                processor: "Information not available",
                ram: "Information not available",
                os: "Information not available",
                description: "Detailed information about this product is not currently available."
            };
            
            quickViewContent.innerHTML = `
                <div class="quick-view-image">
                    <img src="${product.image}" alt="${product.name}">
                </div>
                <div class="quick-view-details">
                    <h3>${product.name}</h3>
                    <div class="quick-view-price">KSH ${formatPrice(product.price)}</div>
                    
                    <div class="specs-list">
                        <div class="spec-item">
                            <span class="spec-label">Brand:</span>
                            <span class="spec-value">${product.brand}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Storage:</span>
                            <span class="spec-value">${product.storage}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Display:</span>
                            <span class="spec-value">${details.display}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Camera:</span>
                            <span class="spec-value">${details.camera}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Battery:</span>
                            <span class="spec-value">${details.battery}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Processor:</span>
                            <span class="spec-value">${details.processor}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">RAM:</span>
                            <span class="spec-value">${details.ram}</span>
                        </div>
                        <div class="spec-item">
                            <span class="spec-label">Operating System:</span>
                            <span class="spec-value">${details.os}</span>
                        </div>
                    </div>
                    
                    <div class="product-description">
                        <p>${details.description}</p>
                    </div>
                    
                    <div class="product-actions">
                        <button class="btn btn-add-to-cart" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
            `;
            
            // Add event listener to add to cart button in quick view
            document.querySelector('.quick-view-details .btn-add-to-cart').addEventListener('click', () => {
                addToCart(product);
                quickViewModal.style.display = 'none';
            });
            
            quickViewModal.style.display = 'flex';
        }
        
        // Render products based on filters
        function renderProducts() {
            const brandValue = brandFilter.value;
            const storageValue = storageFilter.value;
            const priceValue = priceFilter.value;
            
            // Filter products
            const filteredProducts = products.filter(product => {
                // Brand filter
                if (brandValue && product.brand !== brandValue) return false;
                
                // Storage filter
                if (storageValue && !product.storage.includes(storageValue)) return false;
                
                // Price filter
                if (priceValue) {
                    const [min, max] = priceValue.split('-').map(Number);
                    if (max && (product.price < min || product.price > max)) return false;
                    if (!max && product.price < min) return false;
                }
                
                return true;
            });
            
            // Clear grid
            productsGrid.innerHTML = '';
            
            // Add products to grid
            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                // Determine badge text based on price
                let badgeText = '';
                if (product.price < 30000) {
                    badgeText = 'Budget';
                } else if (product.price > 70000) {
                    badgeText = 'Premium';
                }
                
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}">
                        ${badgeText ? `<div class="product-badge">${badgeText}</div>` : ''}
                    </div>
                    <div class="product-header">
                        <div class="product-name">${product.name}</div>
                        <div class="product-brand">${product.brand}</div>
                    </div>
                    <div class="product-details">
                        <div class="product-spec">
                            <span>Storage:</span>
                            <span>${product.storage}</span>
                        </div>
                        <div class="product-price">KSH ${formatPrice(product.price)}</div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-add-to-cart" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                        <button class="btn btn-quick-view" data-id="${product.id}">
                            <i class="fas fa-eye"></i> Quick View
                        </button>
                    </div>
                    <div class="admin-actions hidden">
                        <button class="btn btn-danger" data-id="${product.id}">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Add event listeners to add to cart buttons
            document.querySelectorAll('.btn-add-to-cart').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('.btn-add-to-cart').getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    addToCart(product);
                });
            });
            
            // Add event listeners to quick view buttons
            document.querySelectorAll('.btn-quick-view').forEach(button => {
                button.addEventListener('click', (e) => {
                    const productId = parseInt(e.target.closest('.btn-quick-view').getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    showQuickView(product);
                });
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.btn-danger').forEach(button => {
                button.addEventListener('click', (e) => {
                    if (!isAuthenticated) {
                        showNotification("Please authenticate first", "error");
                        return;
                    }
                    
                    const productId = parseInt(e.target.closest('.btn-danger').getAttribute('data-id'));
                    removeProduct(productId);
                });
            });
            
            updateAdminActionsVisibility();
        }
        
        // Format price for display (whole numbers only)
        function formatPrice(price) {
            return Math.round(price).toLocaleString('en-KE');
        }
        
        // Remove product
        function removeProduct(id) {
            products = products.filter(product => product.id !== id);
            saveProducts();
            renderProducts();
            showNotification("Product removed successfully", "success");
        }
        
        // Update admin actions visibility
        function updateAdminActionsVisibility() {
            const adminActions = document.querySelectorAll('.admin-actions');
            adminActions.forEach(action => {
                action.classList.toggle('hidden', !isAuthenticated || adminPanel.style.display !== 'block');
            });
        }
        
        // Show notification
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // Event listeners for filters
        brandFilter.addEventListener('change', renderProducts);
        storageFilter.addEventListener('change', renderProducts);
        priceFilter.addEventListener('change', renderProducts);
        
        // Initial render
        updateCartCount();
        renderProducts();
    </script>
</body>
</html>
